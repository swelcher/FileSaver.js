{"version":3,"sources":["../src/FileSaver.js"],"names":[],"mappings":"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","file":"FileSaver.min.js","sourcesContent":["/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    // Namespace is used to prevent conflict w/ Chrome Poper Blocker extension (Issue #561)\n    var a = document.createElementNS('http://www.w3.org/1999/xhtml', 'a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_parent')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_parent'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n"]}